<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prototype</title>

    <!-- CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css">
    <link rel="stylesheet" href="file:///C:/Users/Sarah/Desktop/narrative-final/public/css/style.css">
    <!--<style>
      body {
        background: black;
        font-family: 'Varela', sans-serif;
      }

      .glitch {
        color: white;
        font-size: 100px;
        position: relative;
        width: 400px;
        margin: 0 auto;
      }

      @keyframes noise-anim {
        0% {
          clip: rect(63px, 9999px, 39px, 0);
        }
        5% {
          clip: rect(10px, 9999px, 69px, 0);
        }
        10% {
          clip: rect(60px, 9999px, 56px, 0);
        }
        15% {
          clip: rect(31px, 9999px, 74px, 0);
        }
        20% {
          clip: rect(38px, 9999px, 84px, 0);
        }
        25% {
          clip: rect(48px, 9999px, 86px, 0);
        }
        30% {
          clip: rect(47px, 9999px, 73px, 0);
        }
        35% {
          clip: rect(75px, 9999px, 30px, 0);
        }
        40% {
          clip: rect(58px, 9999px, 1px, 0);
        }
        45% {
          clip: rect(31px, 9999px, 58px, 0);
        }
        50% {
          clip: rect(81px, 9999px, 7px, 0);
        }
        55% {
          clip: rect(77px, 9999px, 6px, 0);
        }
        60% {
          clip: rect(60px, 9999px, 17px, 0);
        }
        65% {
          clip: rect(90px, 9999px, 74px, 0);
        }
        70% {
          clip: rect(60px, 9999px, 11px, 0);
        }
        75% {
          clip: rect(73px, 9999px, 4px, 0);
        }
        80% {
          clip: rect(47px, 9999px, 92px, 0);
        }
        85% {
          clip: rect(14px, 9999px, 47px, 0);
        }
        90% {
          clip: rect(97px, 9999px, 4px, 0);
        }
        95% {
          clip: rect(100px, 9999px, 88px, 0);
        }
        100% {
          clip: rect(34px, 9999px, 13px, 0);
        }
      }
      .glitch:after {
        content: 'Title';
        position: absolute;
        left: 2px;
        text-shadow: -1px 0 red;
        top: 0;
        color: white;
        background: black;
        overflow: hidden;
        clip: rect(0, 900px, 0, 0);
        animation: noise-anim 2s infinite linear alternate-reverse;
      }

      @keyframes noise-anim-2 {
        0% {
          clip: rect(27px, 9999px, 43px, 0);
        }
        5% {
          clip: rect(17px, 9999px, 67px, 0);
        }
        10% {
          clip: rect(92px, 9999px, 19px, 0);
        }
        15% {
          clip: rect(93px, 9999px, 79px, 0);
        }
        20% {
          clip: rect(47px, 9999px, 47px, 0);
        }
        25% {
          clip: rect(86px, 9999px, 45px, 0);
        }
        30% {
          clip: rect(100px, 9999px, 19px, 0);
        }
        35% {
          clip: rect(68px, 9999px, 69px, 0);
        }
        40% {
          clip: rect(84px, 9999px, 78px, 0);
        }
        45% {
          clip: rect(37px, 9999px, 20px, 0);
        }
        50% {
          clip: rect(91px, 9999px, 45px, 0);
        }
        55% {
          clip: rect(28px, 9999px, 77px, 0);
        }
        60% {
          clip: rect(35px, 9999px, 88px, 0);
        }
        65% {
          clip: rect(76px, 9999px, 16px, 0);
        }
        70% {
          clip: rect(73px, 9999px, 96px, 0);
        }
        75% {
          clip: rect(63px, 9999px, 1px, 0);
        }
        80% {
          clip: rect(20px, 9999px, 39px, 0);
        }
        85% {
          clip: rect(97px, 9999px, 83px, 0);
        }
        90% {
          clip: rect(63px, 9999px, 6px, 0);
        }
        95% {
          clip: rect(3px, 9999px, 92px, 0);
        }
        100% {
          clip: rect(75px, 9999px, 13px, 0);
        }
      }
      .glitch:before {
        content: 'Title';
        position: absolute;
        left: -2px;
        text-shadow: 1px 0 blue;
        top: 0;
        color: white;
        background: black;
        overflow: hidden;
        clip: rect(0, 900px, 0, 0);
        animation: noise-anim-2 3s infinite linear alternate-reverse;
      }

    </style>-->
</head>
<body class="container">

    <main>
        <div>
        <h1 id="test">Title</h1>
                <p>"But how can we escape?" he asked, suddenly.  "They are invulnerable, they are pitiless."</p>

                <p>"Neither the one nor, perhaps, the other," I answered. "And the mightier they are the more sane and wary should we be.  One of them was killed yonder not three hours ago."</p>

                <p>"<a href="file:///C:/Users/Sarah/Desktop/narrative-final/test.html" id="anarchy">Killed!</a>" he said, staring about him.  "How can God's ministers be killed?"</p>

                <p>"I saw it happen." I proceeded to tell him.  "We have chanced to come in for the thick of it," said I, "and that is all."</p>

                <p>"What is that flicker in the sky?" he asked abruptly.</p>

                <p>I told him it was the heliograph signalling--that it was the sign of human help and effort in the sky.</p>

                <p>"We are in the midst of it," I said, "quiet as it is.  That flicker in the sky tells of the gathering storm.  Yonder, I take it are the Martians, and Londonward, where those hills rise about Richmond and Kingston and the trees give cover, earthworks are being thrown up and guns are being placed.  Presently the Martians will be coming this way again."</p>

                <p>And even as I spoke he sprang to his feet and stopped me by a gesture.</p>

                <p>"Listen!" he said.</p>

                <p>From beyond the low hills across the water came the dull resonance of distant guns and a remote weird crying.  Then everything was still. A cockchafer came droning over the hedge and past us.  High in the west the crescent moon hung faint and pale above the smoke of Weybridge and Shepperton and the hot, still splendour of the sunset.</p>
        </div>
    </main>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js" crossorigin="anonymous"></script>
  <script src="C:\Users\Sarah\Desktop\narrative-final\public\vendor\html2canvas.js"></script>
  <script src="C:\Users\Sarah\Desktop\narrative-final\public\vendor\glitch.js"></script>
  <script>
      $(document).ready(function() {
          console.log(this);
          var myWin;

          $('#anarchy').click(function(e) {
              e.preventDefault();
              //glitch
              //pop up new window
              url = this.href;
              $('body').glitch('replace', {
                amount: 10
              });
              setTimeout(function() {
                console.log(typeof(myWin));
                myWin = window.open(url, 'Chat', 'width=400, height=400');
                if(myWin.closed == false) {
                  myWin.close();
                }
                window.open(url, 'Chat', 'width=400, height=400');
              }, 3000);
              return false;
              //make sure only happens once
          });

          function closePopupIfOpen(){
            if(typeof(window['Chat']) != 'undefined' && !window['Chat'].closed){
              console.log('c')
              window['Chat'].close();
            }
          }
      });
  </script>
</body>
</html>
